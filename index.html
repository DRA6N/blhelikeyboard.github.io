<!DOCTYPE html>
<!DOCTYPE html>
<head>
<link rel="stylesheet" href="style.css">
<script src="textareahelper.js"></script>
<script src="audiosynth.js"></script>
<script src="audiosynth.view.js"></script>
<script src="playback.js"></script>
</head>

<body>
<div class="title">BLHeli32 ESC Tone Tool</div>
<center><H2>How to use this tool</H2>
<p>Simply use your PC keyboard to play the tune you'd like. <br>
  As you play, the app will type the BLHELI32 code in the textbox below. You can delete your last note with <strong>ESC/DEL/BACKSPACE.</strong><br>
  Copy/Paste into your desired ESC. </p>
<p><em>Pauses and Tone Length will have to be manually set.</em><br>
</p>
</center>
<div class="keyboard-options">
<p>Instrument
  <select ID="sound">
    <option value="0" selected>Keyboard</option>
    <option value="1">Organ</option>
    <option value="2">Acoustic Guitar</option>

  </select>
</p>

<div ID="keyboard" class="keyboard-holder"></div>
<div class="keyboard-options">
Range [C<span ID="OCTAVE_LOWER">4</span>-B<span ID="OCTAVE_UPPER">6</span>]
<input type="button" ID="-_OCTAVE" value="-" />
<input type="button" ID="+_OCTAVE" value="+" /><br />
<i>(Use left/right arrows to adjust with keyboard)</i>
</div>
<script type="text/javascript">

var a = new AudioSynthView();
a.draw();

</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44899638-2', 'keithwhor.com');
  ga('send', 'pageview');
</script>
<div style="text-align: center;">

<div>
<textarea class="scrollabletextbox" value="" id="textoutput">
</textarea><br>
<button onclick="removeNote()">Delete Last Note</button><input type="button" id="copyID" value="Copy to Clipboard" />
    <script type="text/javascript">
        var button = document.getElementById("copyID"),
            input = document.getElementById("textoutput");

        button.addEventListener("click", function(event) {
            event.preventDefault();
            input.select();
            document.execCommand("copy");
        });
    </script>

<button onclick="clearPlayedNotes()">Clear</button>
<button onclick="doPlayback(0)">Play it back!</button>
</div>
  <br><br>
  <H2>Documentation</H2>
  <p>The Music Note format is [Note][Octave] [Length]</p>
  <p>Valid Music Notes are: C, C#(Db), D, D#(Eb), E, F, F#(Gb), G, G#(Ab), A, A#(Bb), B
    <br>
    Remark: Notes with &ldquo;b&rdquo; in brackets are synonyms for the previous Notes with &ldquo;#&rdquo;. So, "C#" has the same frequency value as "Db".    </p>
  <p>Valid Octaves are: 4, 5, 6, 7    </p>
  <p>Valid Note length are: 1/1, 1/2, 1/4, 1/8 (1/1 Note length equals 0.5s time length).</p>
  <p> Beside of the Notes there is a Pause = silence
    <br>
    Music Pause format = P[Length]
    <br>
    Valid Pause values: P 1/1, P 1/2, P 1/4, P 1/8, P 1/16, P 1/32, P 1/64, P 1/128    </p>
  <p>The individual Note/Pause Length will be scaled with the &ldquo;Gen. length&rdquo; value. Value 8 is neutral.</p>
  <p> The numerator "1/&rdquo; for length values and spaces in script text are optional, so "A42" equals "A4 1/2" and "P128" equals "P 1/128".    </p>
  <p>Unchecking &ldquo;Show 1/x for length&rdquo; will hide the numerators in the script text.    <br>
    Unchecking &ldquo;Show Spaces&rdquo; will hide spaces the script text.</p>
  <p> A Click on the green &ldquo;Play&rdquo; button of the MediaPlayer will check the script for errors, generate a wav file (&ldquo;TestMusic.wav&rdquo;) in the \Music subfolder and plays it through the soundcard.<br>
Because the wave file consists of sine waves, its sound is different from the sound of the motors, but sufficient to generate a realistic impression of the music. </p>
  <p>The &ldquo;Script File Manger&rdquo; may help to organize a Music archive in the \Music subfolder. Script files can be saved here as txt files, which can be easily shared.
    <br>
    <strong>A Script consists of up to 48 Music Notes - <em>including</em> spaces.</strong></p>
  <p>Due to the individual programmability, each ESC can have its own music data, so multiple ESCs are theoretically able to play a polyphonic music.</p>
</div>
<hr>
Developed by <a href="https://discordapp.com/users/153850946127003648/"><B>Vishera</B></a> & <a href="https://discordapp.com/users/132817887663620096/"><B>Linus 'CheetahFPV' Thorsell</B></a>
</body>
</html>
